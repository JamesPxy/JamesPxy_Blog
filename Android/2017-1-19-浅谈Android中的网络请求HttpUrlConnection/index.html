<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="JamesPxy  Blog-JamesPxy  blog">
    <meta name="keyword"  content="king JamesPxy">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
          浅谈HttpUrlConnettion网络请求 - 彭晓勇 | Blog
        
    </title>

    <link rel="canonical" href="http://pengxiaoyong.cn/Android/2017-1-19-浅谈Android中的网络请求HttpUrlConnection/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="../../css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="../../css/beantech.min.css">

    <link rel="stylesheet" href="../../css/donate.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="../../css/highlight.css">

    <link rel="stylesheet" href="../../css/widget.css">

    <link rel="stylesheet" href="../../css/rocket.css">

    <link rel="stylesheet" href="../../css/signature.css">

    <link rel="stylesheet" href="../../css/toc.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            background-image: url('/img/header_img/foods.webp')
            /*post*/
        
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#Android" title="Android">Android</a>
                            
                        </div>
                        <h1>浅谈HttpUrlConnettion网络请求</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by JamesPxy on
                            2017-01-19
                        </span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">彭晓勇</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Modify by Yu-Hsuan Yen -->

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h1 id="1几种常见的网络请求方式">1.几种常见的网络请求方式</h1>
<ul>
<li>
<p>GET： 请求指定的页面信息，它本质就是发送一个请求来取得服务器上的某一资源。资源通过一组HTTP头和呈现数据（如HTML文本，或者图片或者视频等）返回给客户端。GET请求中，永远不会包含呈现数据。</p>
</li>
<li>
<p>HEAD： 只请求页面的首部,HEAD和GET本质是一样的，区别在于HEAD不含有呈现数据，而仅仅是HTTP头信息，用于检查对象是否存在，以及得到对象的元数据。</p>
</li>
<li>
<p>POST： 向服务器提交数据,请求服务器接受所指定的文档作为对所标识的URI的新的从属实体。</p>
</li>
<li>
<p>PUT： 从客户端向服务器传送的数据取代指定的文档的内容,PUT和POST极为相似，都是向服务器发送数据，但它们之间有一个重要<strong>区别</strong>，PUT通常指定了资源的存放位置，而POST则没有，POST的数据存放位置由服务器自己决定。</p>
</li>
<li>
<p>DELETE： 请求服务器删除指定的页面或某一个资源。</p>
</li>
<li>
<p>OPTIONS： 允许客户端查看服务器的性能。</p>
</li>
<li>
<p>TRACE： 请求服务器在响应中的实体主体部分返回所得到的内容。</p>
</li>
<li>
<p>PATCH： 实体中包含一个表，表中说明与该URI所表示的原内容的区别，用于部分文档更改。</p>
</li>
<li>
<p>MOVE： 请求服务器将指定的页面移至另一个网络地址。</p>
</li>
<li>
<p>COPY： 请求服务器将指定的页面拷贝至另一个网络地址。</p>
</li>
<li>
<p>LINK： 请求服务器建立链接关系。</p>
</li>
<li>
<p>UNLINK： 断开链接关系。</p>
</li>
<li>
<p>WRAPPED： 允许客户端发送经过封装的请求。</p>
</li>
<li>
<p>Extension-mothed：在不改动协议的前提下，可增加另外的方法</p>
</li>
</ul>
<p><strong>根据HTTP协议的设计初衷，不同的方法对资源有不同的操作方式</strong></p>
<ul>
<li>
<p>PUT ：增</p>
</li>
<li>
<p>DELETE ：删</p>
</li>
<li>
<p>POST：改</p>
</li>
<li>
<p>GET：查</p>
</li>
</ul>
<p>提示：最常用的是GET和POST（实际上GET和POST都能做到增删改查）</p>
<p><strong>GET和POST的区别使用：</strong></p>
<ol>
<li>如果要传递大量数据，比如文件上传，只能用POST请求</li>
<li>GET的安全性比POST要差些，如果包含机密\敏感信息，建议用POST</li>
<li>如果仅仅是索取数据（数据查询），建议使用GET</li>
<li>如果是增加、修改、删除数据，建议使用POST</li>
</ol>
<h1 id="2使用httpurlconnection进行网络请求的过程">2.使用HttpURLConnection进行网络请求的过程：</h1>
<p>Uses of this class follow a pattern:</p>
<ol>
<li>
<p>Obtain a new HttpURLConnection by calling URL.openConnection() and casting the result to HttpURLConnection.</p>
</li>
<li>
<p>Prepare the request. The primary property of a request is its URI. Request headers may also include metadata such as credentials, preferred content types, and session cookies.</p>
</li>
<li>
<p>Optionally upload a request body. Instances must be configured withsetDoOutput(true) if they include a request body. Transmit data by writing to the stream returned by getOutputStream() .</p>
</li>
<li>
<p>Read the response. Response headers typically include metadata such as the response body’s content type and length, modified dates and session cookies. The response body may be read from the stream returned by getInputStream() . If the response has no body, that method returns an empty stream.</p>
</li>
<li>
<p>Disconnect. Once the response body has been read, the HttpURLConnection should be closed by calling disconnect() . Disconnecting releases the resources held by a connection so they may be closed or reused.</p>
</li>
</ol>
<p>从上述使用描述中，可以知道，用户要根据返回的outputStream向服务器端写数据；而读数据的时候，要根据服务器端返回的inputStream，从这个输入流中读取服务器端返回的数据。所以，传递数据，通过返回的输出流；读数据，要通过返回的输入流。这些都是暴露给用户使用。相对于HttpClient，还要底层些。</p>
<h1 id="3get和post的区别">3.<a href="http://blog.csdn.net/luxiaoshuai/article/details/4248188" target="_blank" rel="noopener">GET和POST的区别</a></h1>
<p>form提交的第一步是创建数据集，并根据 ENCTYPE 指定的类型值对数据集进行编码。 ENCTYPE 有两个值：multipart/form-data，application/x-www-form-urlencoded（默认值）。form提交的第二步是进行数据传输。对于GET方法，数据集使用application/x-www-form-urlencoded编码；而对于POST方法，数据集的 ENCTYPE 可以指定。</p>
<h1 id="4android中的网络请求示例代码coding">4.Android中的网络请求示例代码——Coding</h1>
<h2 id="41-get请求">4.1 Get请求</h2>
<hr>
<pre><code>// Get方式请求  
public static void requestByGet() throws Exception {  
    String path = &quot;https://reg.163.com/logins.jsp?id=helloworld&amp;pwd=android&quot;;  
    // 新建一个URL对象  
    URL url = new URL(path);  
    // 打开一个HttpURLConnection连接  
    HttpURLConnection urlConn = (HttpURLConnection) url.openConnection();  
    // 设置连接超时时间  
    urlConn.setConnectTimeout(5 * 1000);  
    // 开始连接  
    urlConn.connect();  
    // 判断请求是否成功  
    if (urlConn.getResponseCode() == HTTP_200) {  
        // 获取返回的数据  
        byte[] data = readStream(urlConn.getInputStream());  
        Log.i(TAG_GET, &quot;Get方式请求成功，返回数据如下：&quot;);  
        Log.i(TAG_GET, new String(data, &quot;UTF-8&quot;));  
    } else {  
        Log.i(TAG_GET, &quot;Get方式请求失败&quot;);  
    }  
    // 关闭连接  
    urlConn.disconnect();  
}
</code></pre>
<h2 id="42-post请求">4.2 Post请求</h2>
<hr>
<pre><code>// Post方式请求  
public static void requestByPost() throws Throwable {  
    String path = &quot;https://reg.163.com/logins.jsp&quot;;  
    // 请求的参数转换为byte数组  
    String params = &quot;id=&quot; + URLEncoder.encode(&quot;helloworld&quot;, &quot;UTF-8&quot;)  
            + &quot;&amp;pwd=&quot; + URLEncoder.encode(&quot;android&quot;, &quot;UTF-8&quot;);  
    byte[] postData = params.getBytes();  
    // 新建一个URL对象  
    URL url = new URL(path);  
    // 打开一个HttpURLConnection连接  
    HttpURLConnection urlConn = (HttpURLConnection) url.openConnection();  
    // 设置连接超时时间  
    urlConn.setConnectTimeout(5 * 1000);  
    // Post请求必须设置允许输出  
    urlConn.setDoOutput(true);  
    // Post请求不能使用缓存  
    urlConn.setUseCaches(false);  
    // 设置为Post请求  
    urlConn.setRequestMethod(&quot;POST&quot;);  
    urlConn.setInstanceFollowRedirects(true);  
    // 配置请求Content-Type  
    urlConn.setRequestProperty(&quot;Content-Type&quot;,  
            &quot;application/x-www-form-urlencode&quot;);  
    // 开始连接  
    urlConn.connect();  
    // 发送请求参数  
    DataOutputStream dos = new DataOutputStream(urlConn.getOutputStream());  
    dos.write(postData);  
    dos.flush();  
    dos.close();  
    // 判断请求是否成功  
    if (urlConn.getResponseCode() == HTTP_200) {  
        // 获取返回的数据  
        byte[] data = readStream(urlConn.getInputStream());  
        Log.i(TAG_POST, &quot;Post请求方式成功，返回数据如下：&quot;);  
        Log.i(TAG_POST, new String(data, &quot;UTF-8&quot;));  
    } else {  
        Log.i(TAG_POST, &quot;Post方式请求失败&quot;);  
    }  
}  
</code></pre>
<h1 id="5java项目中的网络请求示例聚合数据demo">5.Java项目中的网络请求示例（聚合数据demo）</h1>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pxy.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.DataOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.net.HttpURLConnection;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> net.sf.json.JSONObject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpTest</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEF_CHATSET = <span class="string">"UTF-8"</span>;<span class="comment">//字符编码</span></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * ConnectTimeout只有在网络正常的情况下才有效，</span></span><br><span class="line"><span class="comment">	 * 而当网络不正常时，ReadTimeout才真正的起作用，即IdIOHandlerStack 里的 WaitFor</span></span><br><span class="line"><span class="comment">	 * 是受ReadTimeout限制的， 因此，这2个属性应该结合实用。</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEF_CONN_TIMEOUT = <span class="number">30000</span>;<span class="comment">// 是建立连接的超时时间</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEF_READ_TIMEOUT = <span class="number">30000</span>;<span class="comment">// 是传递数据的超时时间。</span></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * User Agent中文名为用户代理，简称 UA，它是一个特殊字符串头，使得服务器能够识别客户使用的操作系统及版本、 CPU</span></span><br><span class="line"><span class="comment">	 * 类型、浏览器及版本、浏览器渲染引擎、浏览器语言、浏览器插件等。</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> String userAgent = <span class="string">"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.66 Safari/537.36"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 配置您申请的KEY</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String APPKEY = <span class="string">"36f505a1967ff95cb7e3719903c501ef"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		getRequest4();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> strUrl</span></span><br><span class="line"><span class="comment">	 *            请求地址</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> params</span></span><br><span class="line"><span class="comment">	 *            请求参数</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> method</span></span><br><span class="line"><span class="comment">	 *            请求方法</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 网络请求字符串</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">doHttpRequest</span><span class="params">(String strUrl, Map&lt;String, Object&gt; params, String method)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		HttpURLConnection conn = <span class="keyword">null</span>;</span><br><span class="line">		BufferedReader reader = <span class="keyword">null</span>;</span><br><span class="line">		String rs = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">			<span class="keyword">if</span> (method == <span class="keyword">null</span> || method.equals(<span class="string">"GET"</span>)) &#123;</span><br><span class="line">				strUrl = strUrl + <span class="string">"?"</span> + urlencode(params);</span><br><span class="line">			&#125;</span><br><span class="line">			URL url = <span class="keyword">new</span> URL(strUrl);</span><br><span class="line">			conn = (HttpURLConnection) url.openConnection();</span><br><span class="line">			<span class="keyword">if</span> (method == <span class="keyword">null</span> || method.equals(<span class="string">"GET"</span>)) &#123;</span><br><span class="line">				conn.setRequestMethod(<span class="string">"GET"</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				conn.setRequestMethod(<span class="string">"POST"</span>);</span><br><span class="line">				conn.setDoOutput(<span class="keyword">true</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			conn.setRequestProperty(<span class="string">"User-agent"</span>, userAgent);</span><br><span class="line">			conn.setUseCaches(<span class="keyword">false</span>);</span><br><span class="line">			conn.setConnectTimeout(DEF_CONN_TIMEOUT);</span><br><span class="line">			conn.setReadTimeout(DEF_READ_TIMEOUT);</span><br><span class="line">			conn.setInstanceFollowRedirects(<span class="keyword">false</span>);</span><br><span class="line">			conn.connect();</span><br><span class="line">			<span class="keyword">if</span> (params != <span class="keyword">null</span> &amp;&amp; method.equals(<span class="string">"POST"</span>)) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					DataOutputStream out = <span class="keyword">new</span> DataOutputStream(conn.getOutputStream());</span><br><span class="line">					out.writeBytes(urlencode(params));</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			InputStream is = conn.getInputStream();</span><br><span class="line">			reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(is, DEF_CHATSET));</span><br><span class="line">			String strRead = <span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">while</span> ((strRead = reader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">				sb.append(strRead);</span><br><span class="line">			&#125;</span><br><span class="line">			rs = sb.toString();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (reader != <span class="keyword">null</span>) &#123;</span><br><span class="line">				reader.close();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (conn != <span class="keyword">null</span>) &#123;</span><br><span class="line">				conn.disconnect();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> rs;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 将map型转为请求参数型</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">urlencode</span><span class="params">(Map&lt;String, Object&gt; data)</span> </span>&#123;</span><br><span class="line">		StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		<span class="keyword">for</span> (Map.Entry i : data.entrySet()) &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				sb.append(i.getKey()).append(<span class="string">"="</span>).append(URLEncoder.encode(i.getValue() + <span class="string">""</span>, <span class="string">"UTF-8"</span>)).append(<span class="string">"&amp;"</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> sb.toString();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 1.按更新时间查询笑话</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getRequest1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		String result = <span class="keyword">null</span>;</span><br><span class="line">		String url = <span class="string">"http://japi.juhe.cn/joke/content/list.from"</span>;<span class="comment">// 请求接口地址</span></span><br><span class="line">		Map&lt;String, Object&gt; params = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();<span class="comment">// 请求参数</span></span><br><span class="line">		params.put(<span class="string">"sort"</span>, <span class="string">""</span>);<span class="comment">// 类型，desc:指定时间之前发布的，asc:指定时间之后发布的</span></span><br><span class="line">		params.put(<span class="string">"page"</span>, <span class="string">""</span>);<span class="comment">// 当前页数,默认1</span></span><br><span class="line">		params.put(<span class="string">"pagesize"</span>, <span class="string">""</span>);<span class="comment">// 每次返回条数,默认1,最大20</span></span><br><span class="line">		params.put(<span class="string">"time"</span>, <span class="string">"1418816972"</span>);<span class="comment">// 时间戳（10位），如：1418816972</span></span><br><span class="line">		params.put(<span class="string">"key"</span>, APPKEY);<span class="comment">// 您申请的key</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			result = doHttpRequest(url, params, <span class="string">"GET"</span>);</span><br><span class="line">			JSONObject object = JSONObject.fromObject(result);</span><br><span class="line">			<span class="keyword">if</span> (object.getInt(<span class="string">"error_code"</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">				System.out.println(object.get(<span class="string">"result"</span>));</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				System.out.println(object.get(<span class="string">"error_code"</span>) + <span class="string">":"</span> + object.get(<span class="string">"reason"</span>));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 2.最新笑话</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getRequest2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		String result = <span class="keyword">null</span>;</span><br><span class="line">		String url = <span class="string">"http://japi.juhe.cn/joke/content/text.from"</span>;<span class="comment">// 请求接口地址</span></span><br><span class="line">		Map&lt;String, Object&gt; params = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();<span class="comment">// 请求参数</span></span><br><span class="line">		params.put(<span class="string">"page"</span>, <span class="string">""</span>);<span class="comment">// 当前页数,默认1</span></span><br><span class="line">		params.put(<span class="string">"pagesize"</span>, <span class="string">""</span>);<span class="comment">// 每次返回条数,默认1,最大20</span></span><br><span class="line">		params.put(<span class="string">"key"</span>, APPKEY);<span class="comment">// 您申请的key</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			result = doHttpRequest(url, params, <span class="string">"GET"</span>);</span><br><span class="line">			JSONObject object = JSONObject.fromObject(result);</span><br><span class="line">			<span class="keyword">if</span> (object.getInt(<span class="string">"error_code"</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">				System.out.println(object.get(<span class="string">"result"</span>));</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				System.out.println(object.get(<span class="string">"error_code"</span>) + <span class="string">":"</span> + object.get(<span class="string">"reason"</span>));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 3.按更新时间查询趣图</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getRequest3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		String result = <span class="keyword">null</span>;</span><br><span class="line">		String url = <span class="string">"http://japi.juhe.cn/joke/img/list.from"</span>;<span class="comment">// 请求接口地址</span></span><br><span class="line">		Map&lt;String, Object&gt; params = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();<span class="comment">// 请求参数</span></span><br><span class="line">		params.put(<span class="string">"sort"</span>, <span class="string">""</span>);<span class="comment">// 类型，desc:指定时间之前发布的，asc:指定时间之后发布的</span></span><br><span class="line">		params.put(<span class="string">"page"</span>, <span class="string">""</span>);<span class="comment">// 当前页数,默认1</span></span><br><span class="line">		params.put(<span class="string">"pagesize"</span>, <span class="string">""</span>);<span class="comment">// 每次返回条数,默认1,最大20</span></span><br><span class="line">		params.put(<span class="string">"time"</span>, <span class="string">""</span>);<span class="comment">// 时间戳（10位），如：1418816972</span></span><br><span class="line">		params.put(<span class="string">"key"</span>, APPKEY);<span class="comment">// 您申请的key</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			result = doHttpRequest(url, params, <span class="string">"GET"</span>);</span><br><span class="line">			JSONObject object = JSONObject.fromObject(result);</span><br><span class="line">			<span class="keyword">if</span> (object.getInt(<span class="string">"error_code"</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">				System.out.println(object.get(<span class="string">"result"</span>));</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				System.out.println(object.get(<span class="string">"error_code"</span>) + <span class="string">":"</span> + object.get(<span class="string">"reason"</span>));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 4.最新趣图</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getRequest4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		String result = <span class="keyword">null</span>;</span><br><span class="line">		String url = <span class="string">"http://japi.juhe.cn/joke/img/text.from"</span>;<span class="comment">// 请求接口地址</span></span><br><span class="line">		Map&lt;String, Object&gt; params = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();<span class="comment">// 请求参数</span></span><br><span class="line">		params.put(<span class="string">"page"</span>, <span class="string">""</span>);<span class="comment">// 当前页数,默认1</span></span><br><span class="line">		params.put(<span class="string">"pagesize"</span>, <span class="string">""</span>);<span class="comment">// 每次返回条数,默认1,最大20</span></span><br><span class="line">		params.put(<span class="string">"key"</span>, APPKEY);<span class="comment">// 您申请的key</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			result = doHttpRequest(url, params, <span class="string">"GET"</span>);</span><br><span class="line">			JSONObject object = JSONObject.fromObject(result);</span><br><span class="line">			<span class="keyword">if</span> (object.getInt(<span class="string">"error_code"</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">				System.out.println(object.get(<span class="string">"result"</span>));</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				System.out.println(object.get(<span class="string">"error_code"</span>) + <span class="string">":"</span> + object.get(<span class="string">"reason"</span>));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="http://download.csdn.net/detail/fxtx1314/6620867" target="_blank" rel="noopener">JSONObject解析jar包下载地址</a></li>
</ul>

                

                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/Android/2017-1-20-国内非官方API接口/" data-toggle="tooltip" data-placement="top" title="国内非官方API(可用)">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/Android/2017-1-11-gradle配置及多渠道打包/" data-toggle="tooltip" data-placement="top" title="Android Studio gradle配置">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                <br>

                <!--打赏-->
                
                    <div class="reward">
                        <div class="reward-button">赏 <span class="reward-code"> 
                            <span class="alipay-code"> <img class="alipay-img" 
                            src="/img/pay/pay_ali.jpg"><b>支付宝打赏</b></span> 
                            <span class="wechat-code"> <img class="wechat-img" src="/img/pay/pay_wechat.jpg"><b>微信打赏</b> </span>
                            </span></div>
                        <p class="reward-notice">赞赏一下</p>
                    </div>
                
                <!--打赏-->

                <br>
                <!--分享-->
                
                <!--分享-->
                <br>                       
                
                <!-- require APlayer -->
                

                <!-- duoshuo Share start -->
                
                <!-- 多说 Share end-->

                <!-- 多说评论框 start -->
                
                <!-- 多说评论框 end -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->

                

            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

  
    <style>
      span.toc-nav-number{
        display: none
      }
    </style>
  
    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#1几种常见的网络请求方式"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">1.&#x51E0;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#2使用httpurlconnection进行网络请求的过程"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">2.&#x4F7F;&#x7528;HttpURLConnection&#x8FDB;&#x884C;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x7684;&#x8FC7;&#x7A0B;&#xFF1A;</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#3get和post的区别"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">3.<a href="http://blog.csdn.net/luxiaoshuai/article/details/4248188" target="_blank" rel="noopener">GET&#x548C;POST&#x7684;&#x533A;&#x522B;</a></span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#4android中的网络请求示例代码coding"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">4.Android&#x4E2D;&#x7684;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x2014;&#x2014;Coding</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#41-get请求"><span class="toc-nav-number">4.1.</span> <span class="toc-nav-text">4.1 Get&#x8BF7;&#x6C42;</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#42-post请求"><span class="toc-nav-number">4.2.</span> <span class="toc-nav-text">4.2 Post&#x8BF7;&#x6C42;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#5java项目中的网络请求示例聚合数据demo"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">5.Java&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x793A;&#x4F8B;&#xFF08;&#x805A;&#x5408;&#x6570;&#x636E;demo&#xFF09;</span></a></li></ol>
        
        </div>
      </aside>
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#Android" title="Android">Android</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">
        
                         
                        <li><a href="https://github.com/JamesPxy" target="_blank">我的github</a></li>
                         
                        <li><a href="androidweekly.cn" target="_blank">Android Weekly</a></li>
                         
                        <li><a href="https://yq.aliyun.com/u/huweihuang" target="_blank">Android博客周刊</a></li>
                         
                        <li><a href="https://androidblog.cn" target="_blank">Android开发技术周报</a></li>
                         
                        <li><a href="http://gityuan.com/friends" target="_blank">Gityuan大神博客</a></li>
                         
                        <li><a href="https://www.wanandroid.com" target="_blank">Wan Android社区</a></li>
                         
                        <li><a href="https://hexo.io/zh-cn/docs/writing" target="_blank">Hexo 文档社区</a></li>
                         
                
                </ul>
                
            </div>
        </div>
    </div>
</article>








<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


<!-- chrome Firefox 中文锚点定位失效-->
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
<!-- smooth scroll behavior polyfill  -->
<script type="text/javascript" src="/js/smoothscroll.js"></script>
<script>
        $('#toc').on('click','a',function(a){
            // var isChrome = window.navigator.userAgent.indexOf("Chrome") !== -1;
            // console.log(window.navigator.userAgent,isChrome)
                // if(isChrome) {
                    // console.log(a.currentTarget.outerHTML);
                    // console.log($(a.currentTarget).attr("href"));
                    //跳转到指定锚点
                    // document.getElementById(a.target.innerText.toLowerCase()).scrollIntoView(true);
                    document.getElementById($(a.currentTarget).attr("href").replace("#","")).scrollIntoView({behavior: 'smooth' });
                // }
        })  
</script>


    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/JamesPxy">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; JamesPxy 2021 
                    <br>
                    Theme by <a target="_blank" href="http://beantech.org">BeanTech</a> 
                  <!-- author re-Ported from  -->
                  <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    re-Ported by <a target="_blank" href="http://www.huweihuang.com">hwh</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huweihuang&repo=hexo-theme-huweihuang&type=star&count=true" >
                    </iframe> 
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="../../js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="../../js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="../../js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://pengxiaoyong.cn/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = 'xxx';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>
<!-- Image to hack wechat -->
<img src="http://pengxiaoyong.cn/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
